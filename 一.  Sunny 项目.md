# 一.  Sunny 项目

## 一.实体

### 	1.user

```

```

###     	2.type

```

```

### 	3.TbOrder

```
   private Long id;              订单id

    private Long buyerId;         买家id

    private Long sellerId;      卖家id   

    private Long goodsId;        商品id

    private Integer number;       数量

    private Integer money;       价格

    private String buyerAddress;    买家地址

    private String sellerAddress;   卖家地址

    private Date createTime;        创建时间

    private Date updateTime;         更新时间

    private Byte status;  // 1 未支付,  2 已支付未发货， 3 已支付已发货，4 已支付已收货未评价  
                             5 已评价  6 删除
     

```

### 	4.message

```

```

### 	5.imgae

```

```

### 	6.goods

```

```

### 	7.content

```

```

### 	8.comment

```

```

###   	9.cart

              ```

              ```

# 二：功能

## 		一.User  （用户）

### 			1.login（）； //登录

​					登录；

​			           	参数:   

```
   String   username;		用户名			必须有

   String   password;		密码			必须有

   String   name;			真实姓名

   Date     birthday;		生日

   String   school;			学校

   String   address;		地址

   Integer  sex;			性别	  （1表示男 2表示女）

   String   email;			email

   String   wechat;			微信

   String   phone;			手机号

```

​					返回结果：

| 参数名  | 内容       |
| ------- | ---------- |
| message | "登录成功" |
| data    | {…}        |
| flag    | true       |

​			例如: **119.23.12.250:80/user/login**?username=ax&password=123456

​				参数名必须与上述参数名相同





### 				2.register();  //注册

​					注册；

​					参数: 

```
  String   username;		用户名			必须有

   String   password;		密码			必须有

   String   name;			真实姓名

   Date     birthday;		生日

   String   school;			学校

   String   address;		地址

   Integer  sex;			性别	  （1表示男 2表示女）

   String   email;			email

   String   wechat;			微信

   String   phone;			手机号

```



   					返回结果：

| 结果参数 | 内容       |
| -------- | ---------- |
| message  | "注册成功" |
| data     | null       |
| flag     | true       |

案例： **119.23.12.250/sunny/user/register**?username=测试&password=123456



### 3.update（）  //修改个人信息

​	修改个人信息

​	参数： 以下参数可以只传部分

```
  Long id;             用户id

  String username;     用户名称

  String password;      密码
  
  String name;        昵称（或者真实姓名）

  Date birthday;      生日

  String school;     学校

  String address;    地址

   Integer sex;      性别

  String email;     邮箱

  String wechat;    微信

  String phone;   手机号


```

   					返回结果：

| 结果参数 | 内容       |
| -------- | ---------- |
| message  | "修改成功" |
| data     | null       |
| flag     | true       |

案例  http://119.23.12.250/sunny/user/update

### 4.findOne()   //根据id 查询指定用户信息

参数

```
Long id      用户id  //根据id 查询指定用户信息
```

结果

```
{
  "flag": true,
  "message": "查询成功",
  "data": {
    "id": 1,
    "username": "zx",
    "password": "",
    "name": "未命名",
    "birthday": 1552109962000,
    "school": "未命名",
    "address": "未命名",
    "sex": 0,
    "email": "未命名",
    "wechat": "未命名",
    "phone": "未命名",
    "totalScore": 0,
    "residueScore": 0,
    "empiricalValue": 0,
    "topScores": 0,
    "creatTime": 1552109962000,
    "updateTime": 1552801241000
  }
}
```

访问案例  http://119.23.12.250/sunny/user/findOne 

### 5.getLoginUser（）//获取当前登陆的用户

参数

```
无参数
```

结果

```
{
  "flag": true,
  "message": "获取成功",
  "data": {
    "id": 1,
    "username": "zx",
    "password": "",
    "name": "未命名",
    "birthday": 1552109962000,
    "school": "未命名",
    "address": "未命名",
    "sex": 0,
    "email": "未命名",
    "wechat": "未命名",
    "phone": "未命名",
    "totalScore": 0,
    "residueScore": 0,
    "empiricalValue": 0,
    "topScores": 0,
    "creatTime": 1552109962000,
    "updateTime": 1552811400000
  }
}
```

访问案例：http://119.23.12.250:80/sunny/user/getLoginUser

### 4.check()   //验证码校验

​	参数

```
String  verify      验证码
```

​         结果

```
{
  "flag": false,
  "message": "验证失败:验证码有误",
  "data": null
}
```

​	访问案例：http://119.23.12.250:80/user/check

​	

## 二、VerifyCode （验证码）

### 		1.verifyImg（） //显示验证码

​			参数：无

​			结果： 会返回一张验证码图片

http://119.23.12.250/sunny/verify

## 三、Images （图片） 

### 	1.imgUpload（） //图片上传 

​		参数： 

```
  	MultipartFile   imgFile,     //上传的文件参数名
    int             kind,        //文件种类   1 表示头像   2 表示商品图片
    String          username;	 //	用户名	  与用户id 一起传输，可以不传（若不传默认为当前登录用户）
    Long            id;          // 用户 id   

```

​		结果：

   		

| 参数名  | 参数内容                                                     |
| ------- | ------------------------------------------------------------ |
| data    | "/home/houry/images/zx/error/1551956096275.png"   //文件地址 |
| flag    | true                                                         |
| message | "上传成功"                                                   |

​		案例：http://119.23.12.250/image/imgUpload

### 2.add()  //添加图片地址到数据库中（例如头像）

参数

```
      Integer kind;       //图片种类  1 表示头像   2 表示商品图片
      Long kindId;		  // 对应的id    例如头像==》 用户id   商品图片===》商品id
      String address;     //图片地址

```

结果

```
{
  "flag": true,
  "message": "增加成功",
  "data": null
}
```

访问案例：http://119.23.12.250:80/image/add 



### 3.update() //更新图片地址

参数

```
	  Long id;            图片id   
      String address;      图片地址

```

结果

```
{
  "flag": true,
  "message": "修改成功",
  "data": null
}
```

访问案例 http://119.23.12.250:80/sunny/image/update 

4.delete()   //删除图片

参数

```
Long[]  ids    图片id   //传一个删除一个   传多个 删除多个
```

结果

```
{
  "flag": true,
  "message": "删除成功",
  "data": null
}
```

访问案例  http://119.23.12.250:80/sunny/image/delete

### 4.findImageAddress()  //查询图片地址

参数

```
Long kindId  //此处传 用户id  可以查询用户头像  传 商品id 可以查询出一张商品的图片
Integer kind;   //图片种类
```

结果

```
{
  "flag": true,
  "message": "查询成功",
  "data": {
    "id": 1,
    "kind": 2,
    "kindId": 2,
    "address": "/images/test",    //图片地址
    "status": null,
    "createTime": null,
    "updateTime": null
  }
}
```

访问案例:http://119.23.12.250:80/sunny/image/findImageAddress?kindId=2



### 5.addImageAddress（） //添加图片

参数

```
String address   图片地址
Long id         用户或商品id
Integer kind    种类， //头像是 1 商品是 2
```

结果

```
{
  "flag": true,
  "message": "增加成功",
  "data": null
}
```

访问案例：http://119.23.12.250:80/image/addImageAddress

## 四、Goods (商品)

### 	1.add();     //商品发布

​		商品发布

​		参数： 

```

      String name;      //商品名称 （标题）

      Long sellerId;   //卖家id  （若不传：默认为当前登录的用户）

      Byte typeId;    //商品类型ID （分类id）  ==>理论上这部分数据从数据库中查询

      Integer number;  //商品数量 （若不传：默认为 1）

      Integer price;   //商品价格

      Byte oldDegree;   //商品 新旧程度  （ 1~10  旧~新） 

      Byte means;       //商品交易方式

      String content;   //商品描述 

      List<TbImage> imageList;  //商品图片地址  传参方式imageList[0].address 

```



 	返回结果：

| 结果参数 | 内容       |
| -------- | ---------- |
| message  | "添加成功" |
| data     | null       |
| flag     | true       |

​	案例：http://119.23.12.250/sunny/goods/add     

​			（该访问方式仅供参考）



### 2.delete()      //删除商品  

​	根据ids删除商品信息

​	参数

```
Long[]  ids       商品id  //注意此参数是一个数组
```

​	结果

```
{"flag":true,"message":"删除成功","data":null}
```

​	访问案例： http://119.23.12.250:80/sunny/goods/delete

### 3.update()     //修改商品信息

​	修改商品信息

​	参数

```
      Long           id;           商品id             //必填
      String         name;         商品名称   
      Long           sellerId;     卖家id
      Long           contentId;    商品描述id
      String         content;      商品描述           //描述
      Byte           typeId;       类型id
      Integer        number;       数量
      Integer        price;        价格
      Byte           oldDegree;    新旧程度
      Byte           means;        交易方式
      Integer        status;       状态
      Date           createTime;   创建时间
      Date           updateTime;   更新时间
```

​	结果

```
{"flag":true,"message":"修改成功","data":null}
```

​	访问案例: http://119.23.12.250:80/sunny/goods/update 

### 4.findOne();   // 查询指定商品

​	根据id查询指定商品信息

​	参数

```
Long id     商品id 
```

​	结果

```
{
  "flag": true,
  "message": "查询成功",
  "data": {
    "id": 2,
    "name": "测试",
    "sellerId": 0,
    "contentId": 1,
    "typeId": 2,
    "number": 1,
    "price": 200,
    "oldDegree": 10,
    "means": 0,
    "status": 0,
    "createTime": 1546272000000,
    "updateTime": 1546272000000,
    "type": "手机数码",
    "content": "这是测试商品",
    "imageList": [
      {
        "id": 1,
        "kind": 2,
        "kindId": 2,
        "address": "/images/test",
        "status": 1,
        "createTime": 1552111325000,
        "updateTime": 1552111325000
      }
    ]
  }
}
```

​	访问案例:  http://119.23.12.250:80/sunny/goods/findOne



### 5.search() ;  //分页查询

​	商品的分页查询

​	参数

```
TbGoods goods,         查询条件  //可以不传
int psgeNum            当前页   //若不传，默认为1
int pageSize           每页显示的条数     //若不传，默认为10
```

​	结果

```
{
  "flag": true,
  "message": "访问失败",
  "data": {
    "total": 6,
    "rows": [
      {
        "id": 2,
        "name": "测试",
        "sellerId": 0,
        "contentId": 1,
        "typeId": 2,
        "number": 1,
        "price": 200,
        "oldDegree": 10,
        "means": 0,
        "status": 0,
        "createTime": 1546272000000,
        "updateTime": 1546272000000,
        "type": "手机数码",
        "content": "这是测试商品",
        "imageList": [
          {
            "id": 1,
            "kind": 2,
            "kindId": 2,
            "address": "/images/test",
            "status": 1,
            "createTime": 1552111325000,
            "updateTime": 1552111325000
          }
        ]
      },
      {
        "id": 3,
        "name": "未命名",
        "sellerId": 0,
        "contentId": 0,
        "typeId": 2,
        "number": 1,
        "price": 0,
        "oldDegree": 10,
        "means": 0,
        "status": 0,
        "createTime": 1546272000000,
        "updateTime": 1546272000000,
        "type": "手机数码",
        "content": null,
        "imageList": []
      },
      {
        "id": 4,
        "name": "未命名",
        "sellerId": 0,
        "contentId": 0,
        "typeId": 2,
        "number": 1,
        "price": 0,
        "oldDegree": 10,
        "means": 0,
        "status": 0,
        "createTime": 1546272000000,
        "updateTime": 1546272000000,
        "type": "手机数码",
        "content": null,
        "imageList": []
      },
      {
        "id": 5,
        "name": "未命名",
        "sellerId": 0,
        "contentId": 0,
        "typeId": 2,
        "number": 1,
        "price": 0,
        "oldDegree": 10,
        "means": 0,
        "status": 0,
        "createTime": 1546272000000,
        "updateTime": 1546272000000,
        "type": "手机数码",
        "content": null,
        "imageList": []
      },
      {
        "id": 6,
        "name": "未命名",
        "sellerId": 0,
        "contentId": 0,
        "typeId": 2,
        "number": 1,
        "price": 0,
        "oldDegree": 10,
        "means": 0,
        "status": 0,
        "createTime": 1546272000000,
        "updateTime": 1546272000000,
        "type": "手机数码",
        "content": null,
        "imageList": []
      },
      {
        "id": 7,
        "name": "未命名",
        "sellerId": 0,
        "contentId": 0,
        "typeId": 2,
        "number": 1,
        "price": 0,
        "oldDegree": 10,
        "means": 0,
        "status": 0,
        "createTime": 1546272000000,
        "updateTime": 1546272000000,
        "type": "手机数码",
        "content": null,
        "imageList": []
      }
    ]
  }
}
```

​	访问案例：http://119.23.12.250:80/goods/search

​     //根据条件进行分页查询

### 6.NewSearch()   //新的分页查询  推荐使用

参数

```
  name  商品名称
  sellerId  卖家id
  typeId  商品类型
  price   商品价格
  oldDegree  新旧程度
  status    商品状态 //1. 正常， 2被购买， 3被删除
  int pageNum,
  int pageSize
```

结果

```
{                                          
  "flag": true,
  "message": "查询成功",
  "data": {
    "total": 26,
    "rows": [
      {
        "goods": {
          "id": 22,
          "name": "未命名",
          "sellerId": 2,
          "contentId": null,
          "typeId": 0,
          "number": 1,
          "price": 0,
          "oldDegree": 0,
          "means": 1,
          "status": 1,
          "createTime": 1552910924000,
          "updateTime": 1552910924000
        },
        "type": null,
        "content": null,
        "imageList": []
      },
      {
        "goods": {
          "id": 23,
          "name": "未命名",
          "sellerId": 2,
          "contentId": null,
          "typeId": 0,
          "number": 1,
          "price": 0,
          "oldDegree": 0,
          "means": 1,
          "status": 1,
          "createTime": 1552910925000,
          "updateTime": 1552910925000
        },
        "type": null,
        "content": null,
        "imageList": []
      },
      {
        "goods": {
          "id": 24,
          "name": "未命名",
          "sellerId": 2,
          "contentId": null,
          "typeId": 0,
          "number": 1,
          "price": 0,
          "oldDegree": 0,
          "means": 1,
          "status": 1,
          "createTime": 1552910926000,
          "updateTime": 1552910926000
        },
        "type": null,
        "content": null,
        "imageList": []
      },
      {
        "goods": {
          "id": 25,
          "name": "未命名",
          "sellerId": 2,
          "contentId": null,
          "typeId": 0,
          "number": 1,
          "price": 0,
          "oldDegree": 0,
          "means": 1,
          "status": 1,
          "createTime": 1552915216000,
          "updateTime": 1552915216000
        },
        "type": null,
        "content": null,
        "imageList": []
      },
      {
        "goods": {
          "id": 26,
          "name": "商品001",
          "sellerId": 1,
          "contentId": 13,
          "typeId": 4,
          "number": 1,
          "price": 100,
          "oldDegree": 5,
          "means": 1,
          "status": 1,
          "createTime": 1552980459000,
          "updateTime": 1552980459000
        },
        "type": null,
        "content": null,
        "imageList": []
      },
      {
        "goods": {
          "id": 27,
          "name": "商品001",
          "sellerId": 1,
          "contentId": 14,
          "typeId": 4,
          "number": 1,
          "price": 100,
          "oldDegree": 5,
          "means": 1,
          "status": 1,
          "createTime": 1552980606000,
          "updateTime": 1552980606000
        },
        "type": null,
        "content": null,
        "imageList": [
          {
            "id": 3,
            "kind": 2,
            "kindId": 27,
            "address": "商品001/图片1",
            "status": 1,
            "createTime": 1552980607000,
            "updateTime": 1552980607000
          },
          {
            "id": 4,
            "kind": 2,
            "kindId": 27,
            "address": "商品001/图片2",
            "status": 1,
            "createTime": 1552980607000,
            "updateTime": 1552980607000
          },
          {
            "id": 5,
            "kind": 2,
            "kindId": 27,
            "address": "商品001/图片3",
            "status": 1,
            "createTime": 1552980607000,
            "updateTime": 1552980607000
          }
        ]
      }
    ]
  }
}
```

访问案例 http://119.23.12.250/sunny/goods/newSearch

### 7.findGoodsById()   //根据商品id查询商品详情

参数：

```
Long id  商品id      
```

结果：

```
{
  "flag": true,
  "message": "商品查询成功",
  "data": {
    "goods": {                 //商品自身信息
      "id": 27,
      "name": "商品001",
      "sellerId": 1,
      "contentId": 14,
      "typeId": 4,
      "number": 1,
      "price": 100,
      "oldDegree": 5,
      "means": 1,
      "status": 1,
      "createTime": 1552980606000,
      "updateTime": 1552980606000
    },
    "type": null,                       
    "content": {                 //商品描述
      "id": 14,
      "contents": "商品001的描述"
    },
    "imageList": [              //商品图片集合
      {
        "id": 3,
        "kind": 2,
        "kindId": 27,
        "address": "商品001/图片1",
        "status": 1,
        "createTime": 1552980607000,
        "updateTime": 1552980607000
      },
      {
        "id": 4,
        "kind": 2,
        "kindId": 27,
        "address": "商品001/图片2",
        "status": 1,
        "createTime": 1552980607000,
        "updateTime": 1552980607000
      },
      {
        "id": 5,
        "kind": 2,
        "kindId": 27,
        "address": "商品001/图片3",
        "status": 1,
        "createTime": 1552980607000,
        "updateTime": 1552980607000
      }
    ]
  }
}
```

访问案例：http://119.23.12.250/sunny/goods/findGoodsById?id=2

### 8.findBoughtGoods()  //已购买的商品 （未写）

​	 参数

```
Long  buyerId     买家id
```

​	结果

```
{
  "flag": true,
  "message": "查询成功",
  "data": [
    {
      "goods": {
        "id": 27,
        "name": "商品001",
        "sellerId": 1,
        "contentId": 14,
        "typeId": 4,
        "number": 1,
        "price": 100,
        "oldDegree": 5,
        "means": 1,
        "status": 1,
        "createTime": 1552980606000,
        "updateTime": 1552980606000
      },
      "type": null,
      "content": null,
      "imageList": [
        {
          "id": 3,
          "kind": 2,
          "kindId": 27,
          "address": "商品001/图片1",
          "status": 1,
          "createTime": 1552980607000,
          "updateTime": 1552980607000
        },
        {
          "id": 4,
          "kind": 2,
          "kindId": 27,
          "address": "商品001/图片2",
          "status": 1,
          "createTime": 1552980607000,
          "updateTime": 1552980607000
        },
        {
          "id": 5,
          "kind": 2,
          "kindId": 27,
          "address": "商品001/图片3",
          "status": 1,
          "createTime": 1552980607000,
          "updateTime": 1552980607000
        }
      ]
    },
    {
      "goods": {
        "id": 27,
        "name": "商品001",
        "sellerId": 1,
        "contentId": 14,
        "typeId": 4,
        "number": 1,
        "price": 100,
        "oldDegree": 5,
        "means": 1,
        "status": 1,
        "createTime": 1552980606000,
        "updateTime": 1552980606000
      },
      "type": null,
      "content": null,
      "imageList": [
        {
          "id": 3,
          "kind": 2,
          "kindId": 27,
          "address": "商品001/图片1",
          "status": 1,
          "createTime": 1552980607000,
          "updateTime": 1552980607000
        },
        {
          "id": 4,
          "kind": 2,
          "kindId": 27,
          "address": "商品001/图片2",
          "status": 1,
          "createTime": 1552980607000,
          "updateTime": 1552980607000
        },
        {
          "id": 5,
          "kind": 2,
          "kindId": 27,
          "address": "商品001/图片3",
          "status": 1,
          "createTime": 1552980607000,
          "updateTime": 1552980607000
        }
      ]
    }
  ]
}
```

​	访问案例：http://119.23.12.250/sunny/goods/findBoughtGoods

### 9.addGoods ()  //添加商品

参数：

```
    private TbGoods goods;
    private TbType type;
    private TbContent content;
    private List<TbImage> imageList;
```

结果：

```

```

访问案例：

 

## 五、Type  （商品类型）

### 	1.findType()    //查询商品类型

​		参数

```
      Long parentId;     商品类型父级id  //若不传，默认为0
```

​		结果

```
{
  "flag": true,
  "message": "查询成功",
  "data": [
    {
      "id": 1,
      "parentId": 0,
      "type": "其他"
    },
    {
      "id": 2,
      "parentId": 0,
      "type": "手机数码"
    }
  ]
}
```

​		访问案例：http://119.23.12.250:80/type/findType

### 	2.add()       //添加商品类型

​			参数

```
     Long parentId;        商品类型父级id  //若不传，默认为0
     String type;          商品类型      //必填
```

​			结果

```
{
  "flag": true,
  "message": "增加成功",
  "data": null
}
```

​			访问案例 http://localhost:8081/type/add

### 3.findAll()   //查询所有分类

参数：

```

```

结果：

```
{
  "flag": true,
  "message": "查询成功",
  "data": [
    {
      "tbType": {     //父级类型
        "id": 1,
        "parentId": 0,
        "type": "其他"
      },
      "tbTypeList": [   //该父级类型下的所有子级类型
        {
          "id": 6,
          "parentId": 1,
          "type": "其他"
        }
      ]
    },
    {
      "tbType": {
        "id": 2,
        "parentId": 0,
        "type": "手机数码"
      },
      "tbTypeList": [
        {
          "id": 3,
          "parentId": 2,
          "type": "手机"
        },
        {
          "id": 4,
          "parentId": 2,
          "type": "电脑"
        },
        {
          "id": 5,
          "parentId": 2,
          "type": "平板"
        }
      ]
    }
  ]
}
```

访问案例： http://119.23.12.250:80/sunny/type/findAll

4.findParentType () //http://localhost:8081/type/findParentType?id=4

参数

```
Long  id  类型id
```

结果

```
{
  "flag": true,
  "message": "查询成功",
  "data": {
    "id": 2,
    "parentId": null,
    "type": "手机数码"
  }
}
```

案例：http://119.23.12.250:80/sunny/type/findParentType?id=4



## 六、Order (订单管理)

### 	1.add()  // 添加

​			生成订单

​		参数

```
      Long buyerId;       买家id      //必填
      Long sellerId;      卖家id		//必填
      Long goodsId;       商品id      // 必填
      Integer number;     数量        //如果不填，默认为1
      Integer money;      总价         必填
      String buyerAddress;   买家地址 （收货地址）   // 由商品的交易方式决定填不填
      String sellerAddress;  卖家地址  (发货地址)    //由商品的交易方式决定填不填
      Byte status;        订单状态   （ 1未支付 2已支付未发货 3已支付已发货 4已支付已收货未评价   										5已评价   6删除）  //若不填默认为1
```

​		结果

```
{"flag":true,"message":"增加成功","data":null}
```

​		访问案例：http://119.23.12.250:80/sunny/order/add

### 	2.delete()  //删除

​		删除订单

​		参数

```
Long[] ids   订单id    
```

​		结果

```
{"flag":true,"message":"删除成功","data":null}
```

​	访问案例：http://119.23.12.250:80/sunny/delete

### 	3.update()  //更新

​		更新指定订单信息

​		参数

```
	 Long id;           订单id       //必填
     Long buyerId;       买家id
     Long sellerId;      卖家id
     Long goodsId;       商品id
     Integer number;      数量
     Integer money;       总价
     String buyerAddress;  收获地址
     String sellerAddress; 发货地址
     Byte status;           订单状态    （1 未支付 2已支付 3 已发货  4取消订单）
```

​		结果

```
{"flag":true,"message":"修改成功","data":null}
```

​		访问案例：http://119.23.12.250:80/sunnyorder/update 

### 	4.findOne()  //查询指定订单

​		   查询指定订单

​			参数

```
Long id     订单id  
```

​			结果

```
{
  "flag": true,
  "message": "查询成功",
  "data": {
    "id": 1,
    "buyerId": 1,
    "sellerId": 0,
    "goodsId": 0,
    "number": 0,
    "money": 0,
    "buyerAddress": "未知",
    "sellerAddress": "未知",
    "createTime": 1546272000000,
    "updateTime": 1546272000000,
    "status": 1
  }
}
```

​		访问案例：http://119.23.12.250:80/order/findOne

### 	5.findPage()  //分页查询所有订单

​			分页查询订单

​		参数:

```
int      pageNum,       当前页            //若不传，默认为1
 int      pageSize,   	每页显示记录数	   //若不传 默认为10
 Long buyerId;   买家id   //
 Byte status;    订单状态//订单状态  1 未支付  2 已支付  3 取消订单 4已完成  （）

```



​		结果：

```
{
  "flag": true,
  "message": "查询成功",
  "data": {
    "total": 2,
    "rows": [
      {
        "id": 1,
        "buyerId": 1,
        "sellerId": 0,
        "goodsId": 0,
        "number": 0,
        "money": 0,
        "buyerAddress": "未知",
        "sellerAddress": "未知",
        "createTime": 1546272000000,
        "updateTime": 1546272000000,
        "status": 1
      },
      {
        "id": 2,
        "buyerId": 1,
        "sellerId": 0,
        "goodsId": 0,
        "number": 0,
        "money": 0,
        "buyerAddress": "未知",
        "sellerAddress": "未知",
        "createTime": 1546272000000,
        "updateTime": 1546272000000,
        "status": 1
      }
    ]
  }
}
```



​		访问案例：http://119.23.12.250:80/sunny/order/findPage

### 6、newSearch()  //条件分页查询

参数：

```
  Long buyerId;       买家id      // 选传
  Long sellerId;      卖家id      // 选传
  Byte status;        订单状态     // 选传
  int pageNum        当前页
  int pageSize       每页显示的记录数
```

结果：

```
{
  "flag": true,
  "message": "查询成功",
  "data": {
    "total": 4,
    "rows": [
      {
        "order": {
          "id": 7,
          "buyerId": 1,
          "sellerId": 2,
          "goodsId": 27,
          "number": 1,
          "money": 10,
          "buyerAddress": "测试地址",
          "sellerAddress": null,
          "createTime": 1553085699000,
          "updateTime": 1553085699000,
          "status": 1
        },
        "buyer": null,
        "seller": null,
        "goods": {
          "goods": {
            "id": 27,
            "name": "商品001",
            "sellerId": 1,
            "contentId": 14,
            "typeId": 4,
            "number": 1,
            "price": 100,
            "oldDegree": 5,
            "means": 1,
            "status": 1,
            "createTime": 1552980606000,
            "updateTime": 1552980606000
          },
          "type": null,
          "content": null,
          "imageList": [
            {
              "id": 3,
              "kind": 2,
              "kindId": 27,
              "address": "商品001/图片1",
              "status": 1,
              "createTime": 1552980607000,
              "updateTime": 1552980607000
            },
            {
              "id": 4,
              "kind": 2,
              "kindId": 27,
              "address": "商品001/图片2",
              "status": 1,
              "createTime": 1552980607000,
              "updateTime": 1552980607000
            },
            {
              "id": 5,
              "kind": 2,
              "kindId": 27,
              "address": "商品001/图片3",
              "status": 1,
              "createTime": 1552980607000,
              "updateTime": 1552980607000
            }
          ]
        }
      },
      {
        "order": {
          "id": 8,
          "buyerId": 1,
          "sellerId": 2,
          "goodsId": 27,
          "number": 1,
          "money": 10,
          "buyerAddress": "测试地址",
          "sellerAddress": null,
          "createTime": 1553085731000,
          "updateTime": 1553085731000,
          "status": 4
        },
        "buyer": null,
        "seller": null,
        "goods": {
          "goods": {
            "id": 27,
            "name": "商品001",
            "sellerId": 1,
            "contentId": 14,
            "typeId": 4,
            "number": 1,
            "price": 100,
            "oldDegree": 5,
            "means": 1,
            "status": 1,
            "createTime": 1552980606000,
            "updateTime": 1552980606000
          },
          "type": null,
          "content": null,
          "imageList": [
            {
              "id": 3,
              "kind": 2,
              "kindId": 27,
              "address": "商品001/图片1",
              "status": 1,
              "createTime": 1552980607000,
              "updateTime": 1552980607000
            },
            {
              "id": 4,
              "kind": 2,
              "kindId": 27,
              "address": "商品001/图片2",
              "status": 1,
              "createTime": 1552980607000,
              "updateTime": 1552980607000
            },
            {
              "id": 5,
              "kind": 2,
              "kindId": 27,
              "address": "商品001/图片3",
              "status": 1,
              "createTime": 1552980607000,
              "updateTime": 1552980607000
            }
          ]
        }
      },
      {
        "order": {
          "id": 9,
          "buyerId": 1,
          "sellerId": 2,
          "goodsId": 27,
          "number": 1,
          "money": 10,
          "buyerAddress": "测试地址",
          "sellerAddress": null,
          "createTime": 1553085733000,
          "updateTime": 1553085733000,
          "status": 2
        },
        "buyer": null,
        "seller": null,
        "goods": {
          "goods": {
            "id": 27,
            "name": "商品001",
            "sellerId": 1,
            "contentId": 14,
            "typeId": 4,
            "number": 1,
            "price": 100,
            "oldDegree": 5,
            "means": 1,
            "status": 1,
            "createTime": 1552980606000,
            "updateTime": 1552980606000
          },
          "type": null,
          "content": null,
          "imageList": [
            {
              "id": 3,
              "kind": 2,
              "kindId": 27,
              "address": "商品001/图片1",
              "status": 1,
              "createTime": 1552980607000,
              "updateTime": 1552980607000
            },
            {
              "id": 4,
              "kind": 2,
              "kindId": 27,
              "address": "商品001/图片2",
              "status": 1,
              "createTime": 1552980607000,
              "updateTime": 1552980607000
            },
            {
              "id": 5,
              "kind": 2,
              "kindId": 27,
              "address": "商品001/图片3",
              "status": 1,
              "createTime": 1552980607000,
              "updateTime": 1552980607000
            }
          ]
        }
      },
      {
        "order": {
          "id": 10,
          "buyerId": 1,
          "sellerId": 2,
          "goodsId": 27,
          "number": 1,
          "money": 10,
          "buyerAddress": "测试地址",
          "sellerAddress": null,
          "createTime": 1553085735000,
          "updateTime": 1553085735000,
          "status": 4
        },
        "buyer": null,
        "seller": null,
        "goods": {
          "goods": {
            "id": 27,
            "name": "商品001",
            "sellerId": 1,
            "contentId": 14,
            "typeId": 4,
            "number": 1,
            "price": 100,
            "oldDegree": 5,
            "means": 1,
            "status": 1,
            "createTime": 1552980606000,
            "updateTime": 1552980606000
          },
          "type": null,
          "content": null,
          "imageList": [
            {
              "id": 3,
              "kind": 2,
              "kindId": 27,
              "address": "商品001/图片1",
              "status": 1,
              "createTime": 1552980607000,
              "updateTime": 1552980607000
            },
            {
              "id": 4,
              "kind": 2,
              "kindId": 27,
              "address": "商品001/图片2",
              "status": 1,
              "createTime": 1552980607000,
              "updateTime": 1552980607000
            },
            {
              "id": 5,
              "kind": 2,
              "kindId": 27,
              "address": "商品001/图片3",
              "status": 1,
              "createTime": 1552980607000,
              "updateTime": 1552980607000
            }
          ]
        }
      }
    ]
  }
}
```

访问案例： http://119.23.12.250/sunny/order/newSearch 

### 7.pay()  //支付

​	参数

```

```



​        结果

```

```



​	访问案例

### 8.sendGoods（） //确认发货

​      参数

```

```



​        结果

```

```



​	访问案例

### 9.gotGoods（） //确认收货

​        参数

```

```



​        结果

```

```



​	访问案例

## 七、Comment   （评论）

### 	1.add()  //添加

​		参数

```
    private Long buyerId;            买家id
    private Long sellerId;           卖家id
    private Long goodsId;            商品id
    private TbContent tbContent;     评论内容     //  传参形式   tbContent.contents
```

​		结果

```
{
  "flag": true,
  "message": "增加成功",
  "data": null
}
```

访问：http://localhost:8081/comment/add?buyerId=8&sellerId=1&goodsId=2&tbContent.contents=测试

​       //	注意内容传输的形式

### 	2.delete()  //删除

​	       参数

```
Long[]  ids;      评论id   //这是一个id 数组
```

​		结果

```
{
  "flag": true,
  "message": "删除成功",
  "data": null
}
```

​		访问案例： http://localhost:8081/comment/delete

###         3.update()   //更新   （这个更新方法可能需要改善）

​		注意：更新，主要是更新评论过的内容（是否需要具有更新功能）

​	        参数

```
      Long id;                         //商品id
      TbContent tbContent;             //评论的相关内容   tbContent.id   tbContent.contents
```

​		结果

```
{
  "flag": true,
  "message": "修改成功",
  "data": null
}
```

​		访问案例：http://119.23.12.250:80/sunny/comment/update 

### 	4.findOne()  //查询指定评论

​	         参数

```
Long  id     评论的id    
```

​		结果

```
{
  "flag": true,
  "message": "查询成功",
  "data": [
    {                                 //商品信息
      "id": 2,
      "name": "测试",
      "sellerId": 0,
      "contentId": 1,
      "typeId": 2,
      "number": 1,
      "price": 200,
      "oldDegree": 10,
      "means": 0,
      "status": 0,
      "createTime": 1546272000000,
      "updateTime": 1546272000000
    },
    {                                 //商品描述
      "id": 1,
      "contents": "这是测试商品"
    },  
    {                                  //商品的一张图片
      "id": 1,
      "kind": 2,
      "kindId": 2,
      "address": "/images/test",
      "status": null,
      "createTime": null,
      "updateTime": null
    },
    {                               //卖家信息
      "id": 2,
      "username": "测试",
      "password": "e10adc3949ba59abbe56e057f20f883e",
      "name": "未命名",
      "birthday": 1552115416000,
      "school": "未命名",
      "address": "未命名",
      "sex": 0,
      "email": "未命名",
      "wechat": "未命名",
      "phone": "未命名",
      "totalScore": 0,
      "residueScore": 0,
      "empiricalValue": 0,
      "topScores": 0,
      "creatTime": 1552115416000,
      "updateTime": 1552115416000
    },
    {                               //买家信息
      "id": 2,
      "username": "测试",
      "password": "e10adc3949ba59abbe56e057f20f883e",
      "name": "未命名",
      "birthday": 1552115416000,
      "school": "未命名",
      "address": "未命名",
      "sex": 0,
      "email": "未命名",
      "wechat": "未命名",
      "phone": "未命名",
      "totalScore": 0,
      "residueScore": 0,
      "empiricalValue": 0,
      "topScores": 0,
      "creatTime": 1552115416000,
      "updateTime": 1552115416000
    }, 
    {                              //评论
      "id": 4,
      "contents": "测试"
    }
  ]
}
```

​		访问案例：http://119.23.12.250:80/sunny/comment/findOne

### 	5.findPage() //条件分页查询

​         	参数

```
Long buyerId;         //买家id    可以不传
Long sellerId;	     //卖家id     可以不传
Long goodsId; 		 //商品id     可以不传
int pageNum         当前页
int pageSize        每页显示的记录数
```

​	       结果  （结果可以参考 findOne()）

```
{
  "flag": true,
  "message": "查询成功",
  "data": [
    [
      {
        "id": 2,
        "name": "测试",
        "sellerId": 0,
        "contentId": 1,
        "typeId": 2,
        "number": 1,
        "price": 200,
        "oldDegree": 10,
        "means": 0,
        "status": 0,
        "createTime": 1546272000000,
        "updateTime": 1546272000000
      },
      {
        "id": 1,
        "contents": "这是测试商品"
      },
      {
        "id": 1,
        "kind": 2,
        "kindId": 2,
        "address": "/images/test",
        "status": null,
        "createTime": null,
        "updateTime": null
      },
      {
        "id": 1,
        "username": "zx",
        "password": "e10adc3949ba59abbe56e057f20f883e",
        "name": "未命名",
        "birthday": 1552109962000,
        "school": "未命名",
        "address": "未命名",
        "sex": 0,
        "email": "未命名",
        "wechat": "未命名",
        "phone": "未命名",
        "totalScore": 0,
        "residueScore": 0,
        "empiricalValue": 0,
        "topScores": 0,
        "creatTime": 1552109962000,
        "updateTime": 1552109962000
      },
      null,
      {
        "id": 8,
        "username": "ax",
        "password": "e10adc3949ba59abbe56e057f20f883e",
        "name": "未命名",
        "birthday": 1552289511000,
        "school": "未命名",
        "address": "未命名",
        "sex": 0,
        "email": "未命名",
        "wechat": "未命名",
        "phone": "未命名",
        "totalScore": 0,
        "residueScore": 0,
        "empiricalValue": 0,
        "topScores": 0,
        "creatTime": 1552289511000,
        "updateTime": 1552289511000
      },
      null,
      {
        "id": 4,
        "contents": "测试"
      }
    ],
    [
      {
        "id": 2,
        "name": "测试",
        "sellerId": 0,
        "contentId": 1,
        "typeId": 2,
        "number": 1,
        "price": 200,
        "oldDegree": 10,
        "means": 0,
        "status": 0,
        "createTime": 1546272000000,
        "updateTime": 1546272000000
      },
      {
        "id": 1,
        "contents": "这是测试商品"
      },
      {
        "id": 1,
        "kind": 2,
        "kindId": 2,
        "address": "/images/test",
        "status": null,
        "createTime": null,
        "updateTime": null
      },
      {
        "id": 1,
        "username": "zx",
        "password": "e10adc3949ba59abbe56e057f20f883e",
        "name": "未命名",
        "birthday": 1552109962000,
        "school": "未命名",
        "address": "未命名",
        "sex": 0,
        "email": "未命名",
        "wechat": "未命名",
        "phone": "未命名",
        "totalScore": 0,
        "residueScore": 0,
        "empiricalValue": 0,
        "topScores": 0,
        "creatTime": 1552109962000,
        "updateTime": 1552109962000
      },
      null,
      {
        "id": 8,
        "username": "ax",
        "password": "e10adc3949ba59abbe56e057f20f883e",
        "name": "未命名",
        "birthday": 1552289511000,
        "school": "未命名",
        "address": "未命名",
        "sex": 0,
        "email": "未命名",
        "wechat": "未命名",
        "phone": "未命名",
        "totalScore": 0,
        "residueScore": 0,
        "empiricalValue": 0,
        "topScores": 0,
        "creatTime": 1552289511000,
        "updateTime": 1552289511000
      },
      null,
      {
        "id": 7,
        "contents": "测试"
      }
    ],
    [
      {
        "id": 2,
        "name": "测试",
        "sellerId": 0,
        "contentId": 1,
        "typeId": 2,
        "number": 1,
        "price": 200,
        "oldDegree": 10,
        "means": 0,
        "status": 0,
        "createTime": 1546272000000,
        "updateTime": 1546272000000
      },
      {
        "id": 1,
        "contents": "这是测试商品"
      },
      {
        "id": 1,
        "kind": 2,
        "kindId": 2,
        "address": "/images/test",
        "status": null,
        "createTime": null,
        "updateTime": null
      },
      {
        "id": 1,
        "username": "zx",
        "password": "e10adc3949ba59abbe56e057f20f883e",
        "name": "未命名",
        "birthday": 1552109962000,
        "school": "未命名",
        "address": "未命名",
        "sex": 0,
        "email": "未命名",
        "wechat": "未命名",
        "phone": "未命名",
        "totalScore": 0,
        "residueScore": 0,
        "empiricalValue": 0,
        "topScores": 0,
        "creatTime": 1552109962000,
        "updateTime": 1552109962000
      },
      null,
      {
        "id": 8,
        "username": "ax",
        "password": "e10adc3949ba59abbe56e057f20f883e",
        "name": "未命名",
        "birthday": 1552289511000,
        "school": "未命名",
        "address": "未命名",
        "sex": 0,
        "email": "未命名",
        "wechat": "未命名",
        "phone": "未命名",
        "totalScore": 0,
        "residueScore": 0,
        "empiricalValue": 0,
        "topScores": 0,
        "creatTime": 1552289511000,
        "updateTime": 1552289511000
      },
      null,
      {
        "id": 8,
        "contents": "测试内容发生了该百年"
      }
    ]
  ]
}
```



​		访问案例：http://119.23.12.250:80/sunny/comment/search



## 八、Cart (购物车)

### 	1.add()   //添加 

​		参数

```
      Long      buyerId;     买家id        //必填
      Long      goodsId;     商品id        //必填
      Integer   number;      商品数量      // 可以不填，若不填默认值为 1

```

​		结果

```
{
  "flag": true,
  "message": "增加成功",
  "data": null
}
```

  	      访问案例： http://119.23.12.250:80/cart/add

###  	2.delete()  //删除 

​		参数

```
      Long[]      ids;    购物车id数组   // 传一个删一个， 传多个删除多个

```

​		结果

```
{
  "flag": true,
  "message": "删除成功",
  "data": null
}
```

  	      访问案例： http://119.23.12.250:80/cart/add

### 	3.update();  //更新

​		参数

```
      Long id;                  购物车id     //必填
      Integer status;           购物车状态          //选填
      Integer number;           购物车对应商品的数量   //选填
```

​		结果

```
{
  "flag": true,
  "message": "增加成功",
  "data": null
}

```

  	      访问案例： http://119.23.12.250:80/cart/add

### 	4.findOne();   //查询指顶购物车信息

​		参数

```
Long id         购物车id
```

 		结果

```
{
  "flag": true,
  "message": "查询成功",
  "data": [
    {                                 //购物车信息
      "id": 2,
      "buyerId": 2,
      "goodsId": 2,
      "status": null,
      "number": null,
      "createTime": null,
      "updateTime": null
    },
    {							   //商品信息
      "id": 2,
      "name": "测试",
      "sellerId": 1,
      "contentId": 1,
      "typeId": 2,
      "number": 1,
      "price": 200,
      "oldDegree": 10,
      "means": 0,
      "status": 0,
      "createTime": 1546272000000,
      "updateTime": 1546272000000
    },
    {                                //商品描述
      "id": 1,
      "contents": "这是测试商品"
    }, 
    {                               //商品图片
      "id": 1,
      "kind": 2,
      "kindId": 2,
      "address": "/images/test",
      "status": null,
      "createTime": null,
      "updateTime": null
    }
  ]
}
```

 		访问案例:  http://119.23.12.250:80/cart/findOne 

### 	5.search();    //购物车   条件分页查询

​		参数

```
   TbCart cart,       购物车对象  //可以传输一些购物车的有关信息，来限定查询结果
   int pageNum,     当前页       //默认为 1
   int pageSize	   每页显示的记录数  //默认 为10
```

​		结果

```
{
  "flag": true,
  "message": "查询成功",
  "data": [
    {
      "flag": true,
      "message": "查询成功",
      "data": [
        {
          "id": 2,
          "buyerId": 2,
          "goodsId": 2,
          "status": null,
          "number": null,
          "createTime": null,
          "updateTime": null
        },
        {
          "id": 2,
          "name": "测试",
          "sellerId": 1,
          "contentId": 1,
          "typeId": 2,
          "number": 1,
          "price": 200,
          "oldDegree": 10,
          "means": 0,
          "status": 0,
          "createTime": 1546272000000,
          "updateTime": 1546272000000
        },
        {
          "id": 1,
          "contents": "这是测试商品"
        },
        {
          "id": 1,
          "kind": 2,
          "kindId": 2,
          "address": "/images/test",
          "status": null,
          "createTime": null,
          "updateTime": null
        }
      ]
    },
    {
      "flag": true,
      "message": "查询成功",
      "data": [
        {
          "id": 3,
          "buyerId": 2,
          "goodsId": 2,
          "status": 1,
          "number": 1,
          "createTime": 1552456475000,
          "updateTime": 1552456475000
        },
        {
          "id": 2,
          "name": "测试",
          "sellerId": 1,
          "contentId": 1,
          "typeId": 2,
          "number": 1,
          "price": 200,
          "oldDegree": 10,
          "means": 0,
          "status": 0,
          "createTime": 1546272000000,
          "updateTime": 1546272000000
        },
        {
          "id": 1,
          "contents": "这是测试商品"
        },
        {
          "id": 1,
          "kind": 2,
          "kindId": 2,
          "address": "/images/test",
          "status": null,
          "createTime": null,
          "updateTime": null
        }
      ]
    }
  ]
}
```

  	      访问案例：http://119.23.12.250:80/cart/search

​		

## 九、Message (消息)

### 	1.addMessage()  //发送消息

参数

```
      Long reId;        接收方 id
      Long sendId;      发送方 id
      String content;   消息内容
```

结果

```
	{
	  "flag": true,
	  "message": "添加成功",
 	   "data": null
	}
```

访问案例 http://119.23.12.250:80/sunny/message/addMessage 

### 	2.findMessage（） //查询消息

参数

```
Long id           主动查询方 id
Long otherId      另一方id 

```

结果

```
{
  "flag": true,
  "message": "查询成功",
  "data": [                    //消息内容
    {
      "id": 1,
      "reId": 1,              //接收方id
      "sendId": 2,             //发送方id
      "content": "你好",
      "status": 1,
      "createTime": 1553070825000,
      "updateTime": 1553070825000
    },
    {
      "id": 2,
      "reId": 2,
      "sendId": 1,
      "content": "你也好",
      "status": 1,
      "createTime": 1553070840000,
      "updateTime": 1553070844000
    },
    {
      "id": 5,
      "reId": 1,
      "sendId": 2,
      "content": "都好都好",
      "status": 1,
      "createTime": 1553072797000,
      "updateTime": 1553072803000
    },
    {
      "id": 6,
      "reId": 1,
      "sendId": 2,
      "content": "好就好我要结束聊天了",
      "status": 1,
      "createTime": 1553073026000,
      "updateTime": 1553073026000
    },
    {
      "id": 7,
      "reId": 2,
      "sendId": 1,
      "content": "好,你好结束吧",
      "status": 1,
      "createTime": 1553073045000,
      "updateTime": 1553073045000
    }
  ]
}

```

访问案例 ：http://119.23.12.250:80/sunny/message/findMessage



### 3.findNewMessage() //查看我的最新消息

参数

```
Long  reId    接收者id  //就是用户自己的id
```

结果

```
{
  "flag": true,
  "message": "查询成功",
  "data": [
    {
      "message": {
        "id": 34,
        "reId": 42,
        "sendId": 51,
        "content": "dewde",
        "status": 1,
        "createTime": 1554010484000,
        "updateTime": 1554010484000,
        "goodsId": 1
      },
      "reUser": null,
      "sendUser": {
        "user": {
          "id": 51,
          "username": "a",
          "password": "",
          "name": "未命名",
          "birthday": 1553864157000,
          "school": "未命名",
          "address": "hf",
          "sex": 0,
          "email": "未命名",
          "wechat": "未命名",
          "phone": "未命名",
          "totalScore": 0,
          "residueScore": 0,
          "empiricalValue": 0,
          "topScores": 0,
          "creatTime": 1553864157000,
          "updateTime": 1553864157000
        },
        "image": {
          "id": 11,
          "kind": 2,
          "kindId": 51,
          "address": "/42/shop/1553514821192.jpg",
          "status": 1,
          "createTime": 1553512354000,
          "updateTime": 1553512354000
        }
      },
      "image": null
    },
    {
      "message": {
        "id": 37,
        "reId": 42,
        "sendId": 51,
        "content": "商品id是62",
        "status": 1,
        "createTime": 1554017240000,
        "updateTime": 1554017240000,
        "goodsId": 2
      },
      "reUser": null,
      "sendUser": {
        "user": {
          "id": 51,
          "username": "a",
          "password": "",
          "name": "未命名",
          "birthday": 1553864157000,
          "school": "未命名",
          "address": "hf",
          "sex": 0,
          "email": "未命名",
          "wechat": "未命名",
          "phone": "未命名",
          "totalScore": 0,
          "residueScore": 0,
          "empiricalValue": 0,
          "topScores": 0,
          "creatTime": 1553864157000,
          "updateTime": 1553864157000
        },
        "image": {
          "id": 11,
          "kind": 2,
          "kindId": 51,
          "address": "/42/shop/1553514821192.jpg",
          "status": 1,
          "createTime": 1553512354000,
          "updateTime": 1553512354000
        }
      },
      "image": {
        "id": 1,
        "kind": 2,
        "kindId": 2,
        "address": "/images/test",
        "status": 1,
        "createTime": 1552111325000,
        "updateTime": 1552111325000
      }
    }
  ]
}
```

访问案例 http://119.23.12.250:80/sunny/message/findNewMessage

 